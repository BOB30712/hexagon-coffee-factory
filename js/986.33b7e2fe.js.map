{"version":3,"file":"js/986.33b7e2fe.js","mappings":"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","sources":["webpack://hexagon-coffee-factory/./src/views/UserCartList.vue","webpack://hexagon-coffee-factory/./src/views/UserCartList.vue?4b86"],"sourcesContent":["<template>\r\n    <ul class=\"progress-cart  list-unstyled d-flex justify-content-center mt-5\">\r\n        <li class=\"active\">購物車清單</li>\r\n        <li>輸入資料</li>\r\n        <li>確認付款</li>\r\n    </ul>\r\n    <div class=\"row justify-content-center\">\r\n        <div class=\"col-lg-8 col-10 border border-secondary border-3 p-3 mb-5 me-lg-5 table-responsive-lg\">\r\n            <table class=\"table\">\r\n            <thead class=\"table-dark\">\r\n                <tr>\r\n                <th scope=\"col\">項次</th>\r\n                <th scope=\"col\">購物車</th>\r\n                <th scope=\"col\">數量</th>\r\n                <th scope=\"col\">總計</th>\r\n                <th scope=\"col\">刪除</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"(item, num) in ProductCart\" :key=\"item\" class=\"align-middle\">\r\n                <th scope=\"row\">{{num+1}}</th>\r\n                <td>\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <img :src=\"item.product.imageUrl\" alt=\"\" style=\"width: 150px;height: 90px;object-fit: cover;\">\r\n                        <p class=\"ms-2\">{{item.product.title}}</p>\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <div class=\"input-group\" style=\"width: 150px;\">\r\n                    <button type=\"button\" class=\"btn btn-outline-dark\" @click.prevent=\"UpdateCartQty(item.id,item.qty-1)\" :disabled=\"item.qty == 1\">\r\n                        <i class=\"bi bi-dash\"></i>\r\n                    </button>\r\n                    <input\r\n                        v-model=\"item.qty\"\r\n                        @change=\"UpdateCartQty(item.id,item.qty)\"\r\n                        type=\"text\"\r\n                        min=\"1\"\r\n                        class=\"form-control form-control-sm text-center border-dark bg-transparent\"\r\n                    />\r\n                    <button type=\"button\" class=\"btn btn-outline-dark\" @click.prevent=\"UpdateCartQty(item.id,item.qty+1)\">\r\n                        <i class=\"bi bi-plus\"></i>\r\n                    </button>\r\n                    </div>\r\n                </td>\r\n                <td>{{item.final_total}}</td>\r\n                <td class=\"text-center fs-3\"><button @click.prevent=\"DeleteCart(item.id)\"><i class=\"bi bi-x-square-fill\"></i></button></td>\r\n                </tr>\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n        <div class=\"col-lg-3 col-10 border border-secondary border-3 p-3 mb-5 h-100\">\r\n            <p>商品總計:<span class=\"fs-3 fw-bold ms-2\">{{totalPrice}}</span></p>\r\n            <div class=\"input-group mb-3 mt-auto\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"輸入優惠碼\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" v-model=\"couponcode\">\r\n                <button class=\"btn btn-outline-dark\" type=\"button\" id=\"button-addon2\" @click.prevent=\"UseCoupon(couponcode)\">輸入優惠碼</button>\r\n            </div>\r\n            <button type=\"button\" class=\"btn btn-danger w-100 mb-4\" @click.prevent=\"DeleteAllCart\">刪除所有購物車</button>\r\n            <router-link class=\"nav-link fs-3\" to=\"/SendOrder\"><button type=\"button\" class=\"btn btn-dark w-100\">進入下一步</button></router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n.progress-cart  li {\r\n  list-style-type: none;\r\n  float:left;\r\n  width: 33.33%;\r\n  position:relative;\r\n  text-align:center;\r\n}\r\n.progress-cart  li:before {\r\n  font-family: \"Font Awesome\\ 5 Free\";\r\n  font-weight: 900;\r\n  content:\"\\f0f4\";\r\n  width: 30px;\r\n  height: 30px;\r\n  line-height:25px;\r\n  border:3px solid #ddd;\r\n  display:block;\r\n  text-align:center;\r\n  margin:0 auto 10px auto;\r\n  border-radius:50%;\r\n  background-color: #fff;\r\n}\r\n.progress-cart  li:after {\r\n  content:\"\";\r\n  position:absolute;\r\n  width: 100%;\r\n  height:3px;\r\n  background-color: #ddd;\r\n  top: 15px;\r\n  left: -50%;\r\n  z-index:-1;\r\n}\r\n.progress-cart  li:first-child:after {\r\n  content:none;\r\n}\r\n.progress-cart  li.active {\r\n  color:#955d42;\r\n}\r\n.progress-cart  li.active:before {\r\n  border-color:black;\r\n}\r\n.progress-cart  li.active + li:after {\r\n  background-color: black;\r\n}\r\n</style>\r\n\r\n<script>\r\n    export default {\r\n        data () {\r\n            return {\r\n                ProductCart:[],\r\n                totalPrice:0,\r\n                couponcode:''\r\n            }\r\n        },\r\n        methods:{\r\n            getProductCart () {\r\n                const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n                    this.$http.get(url)\r\n                    .then((res) => {\r\n                        this.ProductCart=res.data.data.carts\r\n                        this.totalPrice=res.data.data.final_total\r\n                    })\r\n            },\r\n            UpdateCartQty(id,qty){\r\n                const data={\r\n                    \"product_id\":id,\r\n                    \"qty\":Number(qty)\r\n                }\r\n                const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n                this.$http.put(url,{'data':data})\r\n                .then(() => {\r\n                    this.getProductCart()\r\n                })\r\n            },\r\n            DeleteCart(id){\r\n                const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n                this.$http.delete(url)\r\n                .then(() => {\r\n                    this.getProductCart()\r\n                    this.$emitter.emit('productcart','觸發子元件重新整理')\r\n                })\r\n            },\r\n            DeleteAllCart(){\r\n                const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`\r\n                this.$http.delete(url)\r\n                .then(() => {\r\n                    this.getProductCart()\r\n                    this.$emitter.emit('productcart','觸發子元件重新整理')\r\n                    this.$emitter.emit('opentoast',{style:'danger',text:`移除所有購物車`})\r\n                })\r\n            },\r\n            UseCoupon(code){\r\n                const coupon={\r\n                    'code':code\r\n                }\r\n                const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n                this.$http.post(api,{data:coupon})\r\n                .then(() => {\r\n                    this.getProductCart();\r\n                });\r\n            }\r\n        },\r\n        created () {\r\n            this.getProductCart();\r\n        }\r\n    }\r\n</script>","import { render } from \"./UserCartList.vue?vue&type=template&id=56f712ea\"\nimport script from \"./UserCartList.vue?vue&type=script&lang=js\"\nexport * from \"./UserCartList.vue?vue&type=script&lang=js\"\n\nimport \"./UserCartList.vue?vue&type=style&index=0&id=56f712ea&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue practice\\\\vue cli\\\\hexagon-coffee-factory\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","scope","style","_hoisted_12","_hoisted_16","_hoisted_20","type","_hoisted_1","_hoisted_5","_createElementBlock","_Fragment","_renderList","$data","item","num","key","_toDisplayString","src","product","imageUrl","alt","title","onClick","$options","id","qty","disabled","$event","onChange","min","final_total","placeholder","_createVNode","_component_router_link","to","_hoisted_25","data","ProductCart","totalPrice","couponcode","methods","getProductCart","url","this","$http","get","then","res","carts","UpdateCartQty","Number","put","DeleteCart","delete","$emitter","emit","DeleteAllCart","text","UseCoupon","code","coupon","api","post","created","__exports__","render"],"sourceRoot":""}