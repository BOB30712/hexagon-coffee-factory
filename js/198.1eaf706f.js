"use strict";(self["webpackChunkhexagon_coffee_factory"]=self["webpackChunkhexagon_coffee_factory"]||[]).push([[198],{4198:function(t,e,a){a.r(e),a.d(e,{default:function(){return at}});var s=a(6252),i=a(9963),l=a(3577);const r={class:"container"},c={class:"form-floating mt-5"},o=(0,s._)("label",{for:"floatingInput",class:"ms-2"},"search",-1),n={class:"row mt-5"},d={class:"col-lg-4 col-12"},p={class:"list-unstyled row row-cols-lg-1 row-cols-3"},u={class:"px-0"},g=(0,s._)("i",{class:"bi bi-cup-fill icon"},null,-1),h={class:"px-0"},f=(0,s._)("i",{class:"bi bi-cup-fill icon"},null,-1),b={class:"px-0"},v=(0,s._)("i",{class:"bi bi-cup-fill icon"},null,-1),m={class:"px-0"},_=(0,s._)("i",{class:"bi bi-cup-fill icon"},null,-1),k={class:"col-lg-8 col-12"},w={class:"list-unstyled row row-cols-1 row-cols-lg-3 gy-3"},x={class:"card w-100 position-relative test1-link"},y={class:"position-absolute top-0 end-0 m-3 test1"},C=["disabled","onClick"],P={key:0,class:"bi bi-heart-fill fs-3 py-0 text-danger"},M={key:1,class:"bi bi-heart-fill fs-3 py-0 text-white"},$=["src"],D={class:"card-body"},U={class:"d-flex"},j=["onClick"],F=(0,s._)("i",{class:"bi bi-cart-fill px-2"},null,-1),L=[F],z=["onClick"],I=(0,s._)("i",{class:"bi bi-box-seam-fill"},null,-1),A=[I],H={class:"card-text ms-auto fs-4"},K={class:"card-img-overlay test1 h-25",style:{"background-image":"linear-gradient(180deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))","margin-top":"100px"}},W=["onClick"],Y=(0,s._)("p",{class:"card-text text-white text-center fw-bold test2 p-3",style:{"letter-spacing":"5px"}},"了解更多",-1),Z=[Y];function q(t,e,a,F,I,Y){const q=(0,s.up)("LoadIng"),N=(0,s.up)("PageComp");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(q,{active:I.isLoading},null,8,["active"]),(0,s._)("div",c,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control border border-2 border-dark rounded-pill",id:"floatingInput",placeholder:"123","onUpdate:modelValue":e[0]||(e[0]=t=>I.search=t),style:{"padding-left":"20px"}},null,512),[[i.nr,I.search]]),o]),(0,s._)("div",n,[(0,s._)("div",d,[(0,s._)("ul",p,[(0,s._)("li",u,[(0,s._)("a",{class:"active d-block selector fs-3 fw-bold mb-2 text-nowrap",href:"#",onClick:e[1]||(e[1]=(0,i.iM)((t=>Y.selector("all")),["prevent"]))},[g,(0,s.Uk)("All")])]),(0,s._)("li",h,[(0,s._)("a",{class:"d-block selector fs-3 fw-bold mb-2 text-nowrap",href:"#",onClick:e[2]||(e[2]=(0,i.iM)((t=>Y.selector("卡布奇諾")),["prevent"]))},[f,(0,s.Uk)("卡布奇諾")])]),(0,s._)("li",b,[(0,s._)("a",{class:"d-block selector fs-3 fw-bold mb-2 text-nowrap",href:"#",onClick:e[3]||(e[3]=(0,i.iM)((t=>Y.selector("濃縮咖啡")),["prevent"]))},[v,(0,s.Uk)("濃縮咖啡")])]),(0,s._)("li",m,[(0,s._)("a",{class:"d-block selector fs-3 fw-bold mb-2 text-nowrap",href:"#",onClick:e[4]||(e[4]=(0,i.iM)((t=>Y.selector("拿鐵")),["prevent"]))},[_,(0,s.Uk)("拿鐵")])])])]),(0,s._)("div",k,[(0,s._)("ul",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Y.productinonepage,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"col"},[(0,s._)("div",x,[(0,s._)("div",y,[(0,s._)("button",{disabled:I.favoritelist.includes(t),onClick:(0,i.iM)((e=>Y.addFavorite(t)),["prevent"]),style:{border:"0px solid black","background-color":"transparent"}},[I.favoritelist.includes(t)?((0,s.wg)(),(0,s.iD)("i",P)):((0,s.wg)(),(0,s.iD)("i",M))],8,C)]),(0,s._)("img",{src:t.imageUrl,class:"card-img-top",alt:"商品圖片",style:{height:"200px","object-fit":"cover"}},null,8,$),(0,s._)("div",D,[(0,s._)("h3",null,(0,l.zw)(t.title),1),(0,s._)("div",U,[this.status!=t.id?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"fs-4 addtocart",onClick:(0,i.iM)((e=>Y.addCart(t.id,t.title)),["prevent"])},L,8,j)):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"fs-4 ms-2 addtocart",onClick:(0,i.iM)((e=>Y.addCart(t.id,t.title)),["prevent"]),disabled:""},A,8,z)),(0,s._)("p",H,"售價$: "+(0,l.zw)(t.price),1)])]),(0,s._)("div",K,[(0,s._)("a",{onClick:e=>Y.getProduct(t.id)},Z,8,W)])])])))),128))]),(0,s.Wm)(N,{alldata:this.products,onPagetest:Y.Page},null,8,["alldata","onPagetest"])])])])}a(7658);var N=a(9755),V=a.n(N);const B={"aria-label":"Page navigation example"},E={class:"pagination justify-content-center"},G={class:"page-item"},J=["onClick"],O={class:"page-item"};function Q(t,e,a,r,c,o){return(0,s.wg)(),(0,s.iD)("nav",B,[(0,s._)("ul",E,[(0,s._)("li",G,[(0,s._)("a",{class:(0,l.C_)(["page-link border border-dark",{disabled:0==c.currentpage}]),href:"#",onClick:e[0]||(e[0]=(0,i.iM)((t=>o.updatepage(c.currentpage-1)),["prevent"]))},"Previous",2)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pagecount,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:(0,l.C_)(["page-item",{active:e==c.currentpage}])},[(0,s._)("a",{class:"page-link border border-dark",href:"#",onClick:(0,i.iM)((t=>o.changepage(e)),["prevent"])},(0,l.zw)(e+1),9,J)],2)))),128)),(0,s._)("li",O,[(0,s._)("a",{class:(0,l.C_)(["page-link border border-dark",{disabled:c.currentpage+1==o.pagecount}]),href:"#",onClick:e[1]||(e[1]=(0,i.iM)((t=>o.updatepage(c.currentpage+1)),["prevent"]))},"Next",2)])])])}var R={data(){return{currentpage:0}},props:{alldata:Array},computed:{pagecount(){return Math.ceil(this.alldata.length/3)}},methods:{changepage(t){this.$emit("pagetest",t),this.currentpage=t},updatepage(t){this.changepage(t),this.currentpage=t}},mounted(){}},S=a(3744);const T=(0,S.Z)(R,[["render",Q]]);var X=T,tt={data(){return{search:"",products:[],page:0,status:"",favoritelist:[],isLoading:!0}},inject:["message"],components:{PageComp:X},computed:{filterProduct(){return this.products.filter((t=>t.title.match(this.search)))},productinonepage(){return this.filterProduct.slice(this.page,this.page+3)}},methods:{addCart(t,e){const a={product_id:t,qty:1};this.status=t;const s="https://vue3-course-api.hexschool.io/api/noname-myfirst-vueproject/cart";this.$http.post(s,{data:a}).then((()=>{this.$emitter.emit("productcart",t),this.$emitter.emit("opentoast",{style:"success",text:e+"加入購物車成功"})}))},getProduct(t){this.$router.push(`/UserProduct/${t}`)},addFavorite(t){this.$emitter.emit("senddata",t),this.favoritelist.push(t)},clearFavorite(){this.favoritelist=[]},selector(t){const e="https://vue3-course-api.hexschool.io/api/noname-myfirst-vueproject/products/all";this.$http.get(e).then((e=>{this.products="all"!=t?e.data.products.filter((function(e){return e.category==t})):e.data.products}))},Page(t){this.page=3*t}},created(){const t="https://vue3-course-api.hexschool.io/api/noname-myfirst-vueproject/products/all";this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1})),this.$emitter.on("clear",this.clearFavorite),V()(document).ready((function(){V()(".selector").click((function(){V()(this).addClass("active").parent().siblings().find(".selector").removeClass("active")}))}))}};const et=(0,S.Z)(tt,[["render",q]]);var at=et}}]);
//# sourceMappingURL=198.1eaf706f.js.map