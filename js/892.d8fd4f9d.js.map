{"version":3,"file":"js/892.d8fd4f9d.js","mappings":"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","sources":["webpack://hexagon-coffee-factory/./src/components/DelCheckModal.vue","webpack://hexagon-coffee-factory/./src/components/DelCheckModal.vue?7edf","webpack://hexagon-coffee-factory/./src/views/CouponsList.vue","webpack://hexagon-coffee-factory/./src/components/CouponsModal.vue","webpack://hexagon-coffee-factory/./src/components/CouponsModal.vue?4df6","webpack://hexagon-coffee-factory/./src/views/CouponsList.vue?6721"],"sourcesContent":["<template>\r\n    <div class=\"modal\" tabindex=\"-1\" ref=\"modal\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-danger text-white fw-bold\">\r\n            <h5 class=\"modal-title\">資料刪除</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n            <p>確定要刪除<span v-if=\"itemInfo.title\" class=\"text-danger fw-bold fs-4\">\"{{itemInfo.title}}\"</span>這筆資料嗎</p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary me-auto\" data-bs-dismiss=\"modal\">取消返回</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('del-product',itemInfo)\">確定刪除</button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default{\r\n    data(){\r\n        return{\r\n            modal:{},\r\n            itemInfo:{}\r\n        }\r\n    },\r\n    props:{\r\n        item:{\r\n        type: Object,\r\n        default() {return {}}\r\n      }\r\n    },\r\n    watch:{\r\n        item(){\r\n            this.itemInfo=this.item\r\n        }\r\n    },\r\n    methods:{\r\n        show(){\r\n            this.modal.show()\r\n        },\r\n        hide(){\r\n          this.modal.hide()\r\n        }\r\n    },\r\n    mounted(){\r\n        this.modal = new Modal(this.$refs.modal)\r\n    }\r\n}\r\n</script>","import { render } from \"./DelCheckModal.vue?vue&type=template&id=abc71522\"\nimport script from \"./DelCheckModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelCheckModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue practice\\\\vue cli\\\\hexagon-coffee-factory\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<div class=\"container\">\r\n    <div class=\"text-end mt-4\">\r\n        <button class=\"btn btn-dark\" type=\"button\" @click=\"openmodal(flase)\">\r\n        增加優惠卷\r\n    </button>\r\n    </div>\r\n    <table class=\"table mt-4\">\r\n    <thead>\r\n    <tr>\r\n        <th>名稱</th>\r\n        <th>優惠碼</th>\r\n        <th>折扣百分比</th>\r\n        <th>到期日</th>\r\n        <th>是否啟用</th>\r\n        <th>編輯</th>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    <tr v-for=\"(item,key) in AllCoupon\" :key=\"key\">\r\n        <td>{{item.title}}</td>\r\n        <td>{{item.code}}</td>\r\n        <td>{{item.percent}}%</td>\r\n        <td>{{$filter.date(item.due_date)}}</td>\r\n        <td>\r\n        <span v-if=\"item.is_enabled==1\">啟用</span>\r\n        <span v-else>未起用</span>\r\n        </td>\r\n        <td>\r\n        <div class=\"btn-group\">\r\n            <button class=\"btn btn-outline-primary btn-sm\"\r\n                    @click=\"openmodal(true, item)\"\r\n            >編輯</button>\r\n            <button class=\"btn btn-outline-danger btn-sm\"\r\n                    @click=\"opendelmodal(item)\"\r\n            >刪除</button>\r\n        </div>\r\n        </td>\r\n    </tr>\r\n    </tbody>\r\n    </table>\r\n    <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n        <li :class=\"{disabled:!pagination.has_pre}\" class=\"page-item\"><a @click.prevent=\"changePage(CurrentPage-1)\" class=\"page-link border\" href=\"#\">Previous</a></li>\r\n        <template v-for=\"(item,index) in pagination.total_pages\" :key=\"item\">\r\n          <li :class=\"{active:index+1==pagination.current_page}\" class=\"page-item\"><a @click.prevent=\"changePage(index+1)\" class=\"page-link border\" href=\"#\">{{index+1}}</a></li> \r\n        </template>\r\n        <li :class=\"{disabled:!pagination.has_next}\" class=\"page-item\"><a @click.prevent=\"changePage(CurrentPage+1)\" class=\"page-link border\" href=\"#\">Next</a></li>\r\n    </ul>\r\n    </nav>\r\n</div>\r\n<addcoupons ref=\"addcoupon\" :coupon=\"SelectCoupon\" @add-coupons=\"addcoupons\"></addcoupons>\r\n<delcoupons ref=\"delcoupon\" :item=\"SelectCoupon\" @del-product=\"DelCoupon\"></delcoupons>\r\n</template>\r\n\r\n<script>\r\nimport addcoupons from '../components/CouponsModal.vue'\r\nimport delcoupons from '../components/DelCheckModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      text: '',\r\n      CurrentPage:1,\r\n      pagination:{},\r\n      Coupon: {},\r\n      AllCoupon: [],\r\n      SelectCoupon: {},\r\n      isNew: false\r\n    }\r\n  },\r\n  components: {\r\n    addcoupons,\r\n    delcoupons\r\n  },\r\n  methods: {\r\n    openmodal (isNew, item) {\r\n      if (isNew) {\r\n        this.SelectCoupon = { ...item }\r\n      } else {\r\n        this.SelectCoupon = {\r\n          due_date: new Date().getTime() / 1000\r\n        }\r\n      }\r\n      this.isNew = isNew\r\n      const m = this.$refs.addcoupon\r\n      m.show()\r\n    },\r\n    getAllOrder () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupons?page=${this.CurrentPage}`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.AllCoupon = res.data.coupons\r\n          this.pagination=res.data.pagination\r\n        })\r\n    },\r\n    addOrder () {\r\n      alert('新增成功')\r\n    },\r\n    addcoupons (item) {\r\n      let httpMethod = 'post'\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon`\r\n      if (this.isNew) {\r\n        httpMethod = 'put'\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon/${item.id}`\r\n      }\r\n      this.Coupon = item\r\n      this.Coupon.due_date = Math.floor(new Date(this.Coupon.due_date) / 1000)\r\n      const controllmodal = this.$refs.addcoupon\r\n      this.$http[httpMethod](api, { data: this.Coupon })\r\n        .then(() => {\r\n          // console.log(res)\r\n          // console.log(this.Coupon)\r\n          this.getAllOrder()\r\n          controllmodal.hide()\r\n        })\r\n    },\r\n    opendelmodal (item) {\r\n      this.SelectCoupon = item\r\n      const m = this.$refs.delcoupon\r\n      m.show()\r\n    },\r\n    DelCoupon () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon/${this.SelectCoupon.id}`\r\n      const m = this.$refs.delcoupon\r\n      this.$http.delete(api)\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.getAllOrder()\r\n        })\r\n      m.hide()\r\n    },\r\n    changePage(num){\r\n      this.CurrentPage=num\r\n      this.getAllOrder()\r\n    }\r\n  },\r\n  created () {\r\n    this.getAllOrder()\r\n  }\r\n}\r\n</script>","<template>\r\n<div class=\"modal fade\" id=\"coupons\" tabindex=\"-1\" role=\"dialog\"\r\n        aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\r\n            <button type=\"button\" class=\"btn-close\"\r\n                    data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n            <div class=\"mb-3\">\r\n            <label for=\"title\">標題</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入標題\" v-model=\"CouponAttribute.title\">\r\n            </div>\r\n            <div class=\"mb-3\">\r\n            <label for=\"coupon_code\">優惠碼</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"coupon_code\" placeholder=\"請輸入優惠碼\" v-model=\"CouponAttribute.code\">\r\n            </div>\r\n            <div class=\"mb-3\">\r\n            <label for=\"due_date\">到期日</label>\r\n            <input type=\"date\" class=\"form-control\" id=\"due_date\" v-model=\"CouponAttribute.due_date\">\r\n            </div>\r\n            <div class=\"mb-3\">\r\n            <label for=\"price\">折扣百分比</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入折扣百分比\" v-model=\"CouponAttribute.percent\">\r\n            </div>\r\n            <div class=\"mb-3\">\r\n            <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" id=\"is_enabled\" :true-value=\"1\" :false-value=\"0\" v-model=\"CouponAttribute.is_enabled\">\r\n                <label class=\"form-check-label\" for=\"is_enabled\">\r\n                是否啟用\r\n                </label>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('add-coupons',CouponAttribute)\">更新優惠券\r\n            </button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n    data () {\r\n    return {\r\n        modal: {},\r\n        CouponAttribute: {},\r\n        due_date: ''\r\n    }\r\n    },\r\n    props: {\r\n    coupon: {\r\n        type: Object,\r\n        default () { return {} }\r\n    }\r\n    },\r\n    watch: {\r\n    coupon () {\r\n        this.CouponAttribute = this.coupon\r\n        console.log(this.CouponAttribute.due_date)\r\n        const dateAndTime = new Date(this.CouponAttribute.due_date * 1000).toISOString().split('T')\r\n        this.CouponAttribute.due_date = dateAndTime[0]\r\n        this.due_date = dateAndTime\r\n    }\r\n    },\r\n    methods: {\r\n    show () {\r\n        this.modal.show()\r\n        // console.log(this.CouponAttribute)\r\n    },\r\n    hide () {\r\n        this.modal.hide()\r\n    }\r\n    },\r\n    mounted () {\r\n    const couponsmodal = document.querySelector('#coupons')\r\n    this.modal = new Modal(couponsmodal)\r\n    }\r\n}\r\n</script>","import { render } from \"./CouponsModal.vue?vue&type=template&id=2d0329bb\"\nimport script from \"./CouponsModal.vue?vue&type=script&lang=js\"\nexport * from \"./CouponsModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue practice\\\\vue cli\\\\hexagon-coffee-factory\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CouponsList.vue?vue&type=template&id=8f36dd92\"\nimport script from \"./CouponsList.vue?vue&type=script&lang=js\"\nexport * from \"./CouponsList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue practice\\\\vue cli\\\\hexagon-coffee-factory\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","tabindex","ref","_createElementVNode","type","_createElementBlock","_hoisted_4","$data","title","_toDisplayString","_hoisted_8","onClick","_ctx","data","modal","itemInfo","props","item","Object","default","watch","this","methods","show","hide","mounted","Modal","$refs","__exports__","render","$options","_Fragment","_renderList","key","code","percent","date","due_date","is_enabled","_hoisted_5","_hoisted_6","_hoisted_9","disabled","has_pre","href","total_pages","index","active","current_page","_hoisted_12","has_next","_createVNode","_component_addcoupons","coupon","onAddCoupons","_component_delcoupons","onDelProduct","id","role","for","_hoisted_7","placeholder","$event","_hoisted_11","_hoisted_13","_hoisted_16","_hoisted_18","CouponAttribute","console","log","dateAndTime","Date","toISOString","split","couponsmodal","document","querySelector","text","CurrentPage","pagination","Coupon","AllCoupon","SelectCoupon","isNew","components","addcoupons","delcoupons","openmodal","getTime","m","addcoupon","getAllOrder","api","$http","get","then","res","coupons","addOrder","alert","httpMethod","Math","floor","controllmodal","opendelmodal","delcoupon","DelCoupon","delete","changePage","num","created"],"sourceRoot":""}