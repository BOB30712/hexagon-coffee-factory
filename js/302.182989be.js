(self["webpackChunkhexagon_coffee_factory"]=self["webpackChunkhexagon_coffee_factory"]||[]).push([[302],{2776:function(t,e,s){
/*!
  * Bootstrap toast.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(4072),s(9286),s(5695),s(1127))})(0,(function(t,e,s,a){"use strict";const i=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},n=i(e),o=i(s),r="toast",l="bs.toast",c=`.${l}`,d=`mouseover${c}`,u=`mouseout${c}`,h=`focusin${c}`,m=`focusout${c}`,_=`hide${c}`,v=`hidden${c}`,f=`show${c}`,p=`shown${c}`,g="fade",b="hide",y="show",w="showing",k={animation:"boolean",autohide:"boolean",delay:"number"},$={animation:!0,autohide:!0,delay:5e3};class C extends o.default{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $}static get DefaultType(){return k}static get NAME(){return r}show(){const e=n.default.trigger(this._element,f);if(e.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(g);const s=()=>{this._element.classList.remove(w),n.default.trigger(this._element,p),this._maybeScheduleHide()};this._element.classList.remove(b),t.reflow(this._element),this._element.classList.add(y,w),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown())return;const t=n.default.trigger(this._element,_);if(t.defaultPrevented)return;const e=()=>{this._element.classList.add(b),this._element.classList.remove(w,y),n.default.trigger(this._element,v)};this._element.classList.add(w),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(y),super.dispose()}isShown(){return this._element.classList.contains(y)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){n.default.on(this._element,d,(t=>this._onInteraction(t,!0))),n.default.on(this._element,u,(t=>this._onInteraction(t,!1))),n.default.on(this._element,h,(t=>this._onInteraction(t,!0))),n.default.on(this._element,m,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=C.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return a.enableDismissTrigger(C),t.defineJQueryPlugin(C),C}))},2302:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return ot}});var a=s(6252);function i(t,e,s,i,n,o){const r=(0,a.up)("FrontNavbar"),l=(0,a.up)("router-view"),c=(0,a.up)("toastmessages");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(l),(0,a.Wm)(c)],64)}var n=s(9963),o=s(3577);const r={class:"navbar navbar-expand-lg navbar-dark bg-dark py-0",style:{position:"relative"}},l={class:"container"},c=(0,a._)("a",{class:"navbar-brand text-white",href:"#"},"六角咖啡工廠",-1),d=(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse",id:"navbarNavDropdown"},h={class:"navbar-nav ms-auto"},m={class:"nav-item"},_={class:"nav-item"},v={class:"nav-item"},f={class:"nav-item"},p={class:"nav-item"},g={class:"bi bi-heart"},b={class:"divright"},y={class:"rounded px-1"},w={class:"nav-item"},k={class:"bi bi-cart-fill"},$={class:"divright"},C={class:"rounded px-1"};function F(t,e,s,i,F,x){const L=(0,a.up)("router-link"),D=(0,a.up)("FaModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",r,[(0,a._)("div",l,[c,d,(0,a._)("div",u,[(0,a._)("ul",h,[(0,a._)("li",m,[(0,a.Wm)(L,{class:"nav-link fs-3",to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("首頁")])),_:1})]),(0,a._)("li",_,[(0,a.Wm)(L,{class:"nav-link fs-3",to:"/UserCart"},{default:(0,a.w5)((()=>[(0,a.Uk)("購買商品")])),_:1})]),(0,a._)("li",v,[(0,a.Wm)(L,{class:"nav-link fs-3",to:"/JoinCourse"},{default:(0,a.w5)((()=>[(0,a.Uk)("課程報名")])),_:1})]),(0,a._)("li",f,[(0,a.Wm)(L,{class:"link nav-link fs-3",to:"/AboutUs"},{default:(0,a.w5)((()=>[(0,a.Uk)("關於我們")])),_:1})]),(0,a._)("li",p,[(0,a._)("a",{class:"link nav-link fs-3",href:"#",onClick:e[0]||(e[0]=(0,n.iM)((t=>x.openFavoritelist()),["prevent"]))},[(0,a._)("i",g,[(0,a._)("div",b,[(0,a._)("p",y,(0,o.zw)(F.num),1)])])])]),(0,a._)("li",w,[(0,a.Wm)(L,{class:"link nav-link fs-3",to:"/UserCartList"},{default:(0,a.w5)((()=>[(0,a._)("i",k,[(0,a._)("div",$,[(0,a._)("p",C,(0,o.zw)(F.cartnum),1)])])])),_:1})])])])])]),(0,a.Wm)(D,{ref:"fModal"},null,512)],64)}var x=s(9755),L=s.n(x);const D={class:"modal",tabindex:"-1",id:"myModal"},I={class:"modal-dialog"},M={class:"modal-content"},T=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"最愛名單"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),A={class:"modal-body"},W={class:"modal-footer"};function H(t,e,s,i,r,l){return(0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",I,[(0,a._)("div",M,[T,(0,a._)("div",A,[(0,a._)("p",null,"目前有"+(0,o.zw)(r.FavoriteArray.length)+"個物品在最愛清單",1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.FavoriteArray,(t=>((0,a.wg)(),(0,a.iD)("p",{key:t},(0,o.zw)(t.title),1)))),128))]),(0,a._)("div",W,[(0,a._)("button",{onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>l.clearFavoriteList&&l.clearFavoriteList(...t)),["prevent"])),type:"button",class:"btn btn-secondary"},"全部移除"),(0,a._)("button",{onClick:e[1]||(e[1]=(0,n.iM)(((...t)=>l.allFavoriteArrayaddCart&&l.allFavoriteArrayaddCart(...t)),["prevent"])),type:"button",class:"btn btn-primary"},"全部加入購物車")])])])])}s(7658);var N=s(7424),U=s.n(N),j={data(){return{modal:{},FavoriteArray:[]}},methods:{show(){this.modal.show()},hide(){this.modal.hide()},clearFavoriteList(){this.FavoriteArray=[],this.$emitter.emit("clear","清除最愛名單"),this.hide()},allFavoriteArrayaddCart(){this.FavoriteArray.forEach((t=>{this.addCart(t.id,t.title)})),this.$emitter.emit("clear","清除最愛名單"),this.FavoriteArray=[],this.hide()},addCart(t,e){const s={product_id:t,qty:1};this.status=t;const a="https://vue3-course-api.hexschool.io/api/noname-myfirst-vueproject/cart";this.$http.post(a,{data:s}).then((()=>{this.$emitter.emit("productcart",t),this.$emitter.emit("opentoast",{style:"success",text:e+"加入購物車成功"})}))}},mounted(){this.modal=new(U())(document.getElementById("myModal")),this.$emitter.on("senddata",(t=>{this.FavoriteArray.push(t)}))}},S=s(3744);const z=(0,S.Z)(j,[["render",H]]);var K=z,Z={data(){return{cartnum:0,num:0}},components:{FaModal:K},methods:{getproduct(){const t="https://vue3-course-api.hexschool.io/api/noname-myfirst-vueproject/cart";this.$http.get(t).then((t=>{this.cartnum=t.data.data.carts.length}))},updatenum(){this.num++},openFavoritelist(){const t=this.$refs.fModal;t.show()}},created(){const t="https://vue3-course-api.hexschool.io/api/noname-myfirst-vueproject/cart";this.$http.get(t).then((t=>{this.cartnum=t.data.data.carts.length})),this.$emitter.on("clear",(()=>{this.num=0})),this.$emitter.on("productcart",this.getproduct),this.$emitter.on("senddata",this.updatenum),L()(document).ready((function(){}))}};const E=(0,S.Z)(Z,[["render",F]]);var Y=E;const q={class:"toast-container position-fixed pe-3",style:{bottom:"0",left:"0"}};function P(t,e,s,i,n,o){const r=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)("div",q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.message,((t,e)=>((0,a.wg)(),(0,a.j4)(r,{key:e,msg:t},null,8,["msg"])))),128))])}const J={class:"d-flex"},Q={class:"toast-body"},B=(0,a._)("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1);function O(t,e,s,i,n,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["toast align-items-center text-white border-0",`bg-${s.msg.style}`]),role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},[(0,a._)("div",J,[(0,a._)("div",Q,(0,o.zw)(s.msg.text),1),B])],2)}var G=s(2776),R=s.n(G),V={data(){return{toast:{}}},props:["msg"],methods:{open(){this.toast.show()}},mounted(){const t=this.$refs.toast;this.toast=new(R())(t,{delay:2e3}),this.toast.show()}};const X=(0,S.Z)(V,[["render",O]]);var tt=X,et={data(){return{message:[]}},components:{Toast:tt},mounted(){this.$emitter.on("opentoast",(t=>{this.message.push(t)}))}};const st=(0,S.Z)(et,[["render",P]]);var at=st,it={components:{FrontNavbar:Y,toastmessages:at},provide:{message:"hello!"}};const nt=(0,S.Z)(it,[["render",i]]);var ot=nt}}]);
//# sourceMappingURL=302.182989be.js.map